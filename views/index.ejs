<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gov Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
  <!-- Add IME dependencies -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.ime/1.5.4/css/jquery.ime.min.css">
  <style>
    /* Combined styles */
    :root {
      --primary: #0b3558;
      --secondary: #0a58ca;
      --accent: #138808;
    }

    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      font-family: 'Inter', sans-serif;
    }

    .search-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 24px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      transition: transform 0.3s ease;
    }

    .search-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
    }

    .shape {
      position: absolute;
      z-index: -1;
      opacity: 0.6;
      filter: blur(40px);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.6s ease-out forwards;
    }

    .input-field {
      border-radius: 12px;
      padding: 12px 16px;
      transition: all 0.3s ease;
    }

    .input-field:focus {
      box-shadow: 0 0 0 3px rgba(11, 53, 88, 0.25);
    }

    .search-btn {
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      border-radius: 12px;
      padding: 14px 24px;
      transition: transform 0.3s ease;
    }

    .search-btn:hover {
      transform: translateY(-2px);
    }
  </style>
</head>
<body class="bg-gray-50">

  <!-- Keep original navigation header -->

  <main class="max-w-4xl mx-auto mt-8 px-4">
    <div class="text-center mb-12 fade-in">
      <h1 class="text-3xl font-bold text-gray-900 mb-2 tracking-tight">
        Property Verification Portal
      </h1>
      <p class="text-gray-600 text-base max-w-xl mx-auto">
        Government of India's official platform for property record verification.
      </p>
    </div>

    <!-- Enhanced Search Card -->
    <div class="search-card relative p-8 border border-gray-200/80 overflow-hidden">
      <!-- Decorative shapes -->
      <div class="shape w-64 h-64 bg-[var(--primary)] -top-32 -right-32"></div>
      <div class="shape w-72 h-72 bg-[var(--accent)] -bottom-40 -left-40"></div>
      
      <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-[var(--primary)] via-[var(--secondary)] to-[var(--accent)]"></div>

      <!-- Tabs -->
      <div class="flex flex-col sm:flex-row justify-center gap-3 mb-8 fade-in">
        <button onclick="showTab('name')" class="tab-btn bg-blue-50 text-blue-900 px-6 py-3 rounded-lg border border-blue-200 font-medium flex items-center gap-2 hover:scale-[1.02] transition-transform">
          <i class="fas fa-user"></i> By Name
        </button>
        <button onclick="showTab('id')" class="tab-btn bg-gray-50 text-gray-800 px-6 py-3 rounded-lg border border-gray-300 font-medium flex items-center gap-2 hover:scale-[1.02] transition-transform">
          <i class="fas fa-hashtag"></i> By Property ID
        </button>
        <button onclick="showTab('reg')" class="tab-btn bg-gray-50 text-gray-800 px-6 py-3 rounded-lg border border-gray-300 font-medium flex items-center gap-2 hover:scale-[1.02] transition-transform">
          <i class="fas fa-file-alt"></i> By Registration
        </button>
      </div>

      <!-- Tab Content -->
      <form action="/search" method="POST" class="max-w-2xl mx-auto space-y-8">
        <!-- Name Tab -->
        <div id="tab-name" class="tab-content space-y-4">
          <div class="flex gap-4 fade-in">
            <div class="w-1/2">
              <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
              <div class="input-group relative">
                <input type="text" id="firstName" name="firstName" placeholder="First name" 
                      class="input-field w-full border border-gray-200 focus:ring-2 focus:ring-blue-300 focus:outline-none"
                      data-ime="true">
              </div>
            </div>
            <div class="w-1/2">
              <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
              <div class="input-group relative">
                <input type="text" id="lastName" name="lastName" placeholder="Last name" 
                      class="input-field w-full border border-gray-200 focus:ring-2 focus:ring-blue-300 focus:outline-none"
                      data-ime="true">
              </div>
            </div>
          </div>

          <div class="g-recaptcha fade-in" data-sitekey="YOUR_SITE_KEY_HERE"></div>

          <button type="submit" class="search-btn w-full flex items-center justify-center gap-2">
            <i class="fas fa-search"></i> Search Property
          </button>
        </div>

        <!-- Property ID Tab -->
        <div id="tab-id" class="tab-content hidden">
          <div class="space-y-4 fade-in">
            <label class="block text-sm font-medium text-gray-700">Property ID (10 digits)</label>
            <input type="text" id="propertyId" name="propertyId" placeholder="E.g. 1234567890" 
                  class="input-field w-full border border-gray-200 focus:ring-2 focus:ring-blue-300 focus:outline-none">
            <div class="g-recaptcha" data-sitekey="YOUR_SITE_KEY_HERE"></div>
            <button type="submit" class="search-btn w-full flex items-center justify-center gap-2">
              <i class="fas fa-search"></i> Search Property
            </button>
          </div>
        </div>

        <!-- Registration Number Tab -->
        <div id="tab-reg" class="tab-content hidden">
          <div class="space-y-4 fade-in">
            <label class="block text-sm font-medium text-gray-700">Registration Number (13 digits)</label>
            <input type="text" id="registrationNumber" name="registrationNumber" placeholder="E.g. 1234567890123" 
                  class="input-field w-full border border-gray-200 focus:ring-2 focus:ring-blue-300 focus:outline-none">
            <div class="g-recaptcha" data-sitekey="YOUR_SITE_KEY_HERE"></div>
            <button type="submit" class="search-btn w-full flex items-center justify-center gap-2">
              <i class="fas fa-search"></i> Search Property
            </button>
          </div>
        </div>
      </form>
    </div>
  </main>

  <!-- Toast Alert -->
  <div id="toast" class="fixed bottom-6 right-6 bg-red-50 text-red-800 border border-red-300 px-4 py-3 rounded-lg shadow-lg hidden transition-all duration-300 z-50"></div>

  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.ime/1.5.4/jquery.ime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.ime/1.5.4/jquery.ime.selector.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.ime/1.5.4/jquery.ime.inputmethods.min.js"></script>

  <script>
    // Initialize IME for transliteration
    $(document).ready(function() {
      $('[data-ime="true"]').ime({
        imePath: 'https://cdnjs.cloudflare.com/ajax/libs/jquery.ime/1.5.4/',
        lang: 'hi'
      });
    });

    // Tab management with validation
    let currentTab = 'name';
    const tabs = {
      name: document.getElementById('tab-name'),
      id: document.getElementById('tab-id'),
      reg: document.getElementById('tab-reg')
    };

    function showTab(key) {
      // Hide all tabs
      Object.values(tabs).forEach(tab => tab.classList.add('hidden'));
      
      // Show selected tab
      tabs[key].classList.remove('hidden');
      currentTab = key;
      
      // Update button states
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('bg-blue-100', 'border-blue-200', 'text-blue-900');
        btn.classList.add('bg-gray-100', 'border-gray-300', 'text-gray-800');
      });
      event.target.classList.add('bg-blue-100', 'border-blue-200', 'text-blue-900');
    }

    // Form validation
    document.querySelector('form').addEventListener('submit', function(e) {
      let isValid = true;
      let message = '';

      switch(currentTab) {
        case 'name':
          const firstName = document.getElementById('firstName').value.trim();
          const lastName = document.getElementById('lastName').value.trim();
          if(!firstName || !lastName) {
            isValid = false;
            message = "Please enter both first and last names";
          }
          break;
          
        case 'id':
          const propertyId = document.getElementById('propertyId').value.trim();
          if(!/^\d{10}$/.test(propertyId)) {
            isValid = false;
            message = "Property ID must be exactly 10 digits";
          }
          break;
          
        case 'reg':
          const regNumber = document.getElementById('registrationNumber').value.trim();
          if(!/^\d{13}$/.test(regNumber)) {
            isValid = false;
            message = "Registration Number must be exactly 13 digits";
          }
          break;
      }

      if(!isValid) {
        e.preventDefault();
        showToast(message, 'error');
      }
    });

    // Toast notification
    function showToast(message, type = 'error') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = `fixed bottom-6 right-6 px-4 py-3 rounded-lg shadow-lg z-50 transition-all duration-300 ${
        type === 'error' ? 'bg-red-50 text-red-800 border-red-300' : 'bg-green-50 text-green-800 border-green-300'
      } border`;
      
      toast.classList.remove('hidden');
      setTimeout(() => toast.classList.add('hidden'), 3000);
    }
  </script>
</body>
</html>